<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" >
  <meta name=viewport content="width=device-width, initial-scale=1">
  <title>UK Government Expenditure: The ATI/Gamma Edition</title>
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"
    integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link href="https://thegamma.net/lib/thegamma/thegamma.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Inconsolata|Roboto:300,400,500,700,900" rel="stylesheet">
  <link href="lib/custom.css" rel="stylesheet">
</head>
<body>
  <div id="trig"><div id="trig1"></div><div id="trig2"></div></div>

  <article class="container">
    <div class="row">
      <div class="col-lg-8">
        <h1>The Alan Turing Institute<br/><em>Accounting for Democracy</em></h1>
        <p>
        Our goal is to promote the ability to examine data, to learn to question the legitimacy of its source, and appreciate the context in which numbers are presented. We have chosen the UK Government public expenditure data for demonstration.
        </p>
        <p>Public expenditure is defined as <i>"money spent by the Government on public services and other state-controlled operations, projects and investments."</i>
          <a href="http://lexicon.ft.com/Term?term=public-spending"><span class="source"><sup>Source</sup></span></a>
        </p>
        <p>
        If public expenditure data is easily accessible, we will understand how our money is spent, and question if it was used wisely. In order for the Government to ensure there is good value for money for the taxpayer, there should be maximal transparency of spending purposes. Parties with good quality, well presented financial information can ensure that services receiving public money are held fully to account.
        </p><p>
        To begin with, we should be able to rapidly see what is available and then visualize what interests us. When we are able to place sections of public spending in context, we gain an understanding of the entire picture.
        </p>
        <p>The UK public spending expenditure data in this demo has been sourced from the Public Expenditure Statistical Analyses (PESA) report. <a href="https://www.gov.uk/government/statistics/public-expenditure-statistical-analyses-2016"><sup>Source</sup></a> There is a summary of PESA here.
        <a href="https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/538793/pesa_2016_web.pdf")><sup>Source</sup></a></p>
      </div>
    </div>

    <!-- Services / Subservices -->
    <div class="row">
      <div class="col-sm-12">
        <h2><span>Expenditure Types: Classification by Purpose</span></h2>
      </div>
    </div>
    <div class="row">
      <div class="toppad col-md-5">
          <p>Expenditure types can be classified by the purpose of which funds are used. <a href="https://unstats.un.org/unsd/cr/registry/regcst.asp?Cl=4"><sup>Source</sup></a> </p>
          <p>Expenditure data here consists of ten services, which are further divided into sub-services. Use the dropbox to select a service and examine its sub-services.
          </p>
          <div class="form-group">
            <label for="listing-options-service" class="control-label">Filter by service</label>
            <div><select class="form-control" style="max-width:300px" id="listing-options-service"></select></div>
          </div>
      </div>
      <div class="toppad col-md-7">
        <div class="thegamma thegamma-table-out" id="listing"></div>
      </div>
    </div>

    <!-- Visualizations -->
    <div class="row">
      <div class="col-sm-12">
        <h2><span>Expenditure: Explore and Visualize</span></h2>
      </div>
    </div>

    <!-- <div class="row">
      <div class="col-md-5">
          <div class="hidden-sm hidden-xs" style="height:40px;"></div>
          <p>Expenditure types can be classified by the purpose of which funds are used. <a href="https://unstats.un.org/unsd/cr/registry/regcst.asp?Cl=4"><span class="source">Source</span></a> </p>
      </div>
      <div class="col-md-7">
        <div class="hidden-sm hidden-xs" style="height:40px;"></div>
        <div class="thegamma" id="education"></div>
      </div>

    </div> -->

    <!-- <div class="row">
      <div class="col-md-5">
          <div class="hidden-sm hidden-xs" style="height:40px;"></div>
          <p>Expenditure types can be classified by the purpose of which funds are used. <a href="https://unstats.un.org/unsd/cr/registry/regcst.asp?Cl=4"><span class="source">Source</span></a> </p>
      </div>
      <div class="col-md-7">
        <div class="thegamma" id="transport"></div>
      </div>
    </div>

    -->

    <div class="row">
      <div class="left toppad col-sm-6">
        <p>Spending on social protection subservices</p>
        <div class="thegamma" id="socialProtection"></div>
      </div>
      <div class="right toppad col-sm-6">
        <p>Spending on different levels of education</p>
        <div class="thegamma" id="education"></div>
      </div>
    </div>

    <div class="row">
      <div class="toppad col-sm-12">
        <p>Economic affairs breakdown</p>
        <div class="thegamma" id="transport"></div>
      </div>
    </div>

    <div class="row">
      <div class="left col-sm-12">
        <p><sup>Download Education: <a href="https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/539470/PESA_2016_Chapter_5_tables.xlsx">
          PESA 2016 Chapter 5 Table 5.2</a></sup><br>
          <sup>Download Economic Affairs: <a href="https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/539470/PESA_2016_Chapter_5_tables.xlsx">
            PESA 2016 Chapter 5 Table 5.4</a></sup><br>
            <sup>Download Social Protection: <a href="https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/539470/PESA_2016_Chapter_5_tables.xlsx">
              PESA 2016 Chapter 5 Table 5.2</a></sup>
          </p>
      </div>

    </div>

    <div class="row">
      <div class="col-sm-12">
        <h2><span>How well can you guess expenditure trends?</span></h2>
      </div>
    </div>

    <div class="row">
      <div class="left col-sm-4">
        <h3><span>2015: Spending in GDP (%)</span></h3>
        <p><i>
        Can you guess how much we spent (as % GDP) on the top six spending UK government public services?</i></p>
        <p><sup>Download: <a href="https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/539471/PESA_2016_Chapter_5_tables.xlsx">
          PESA 2016 Chapter 4 Table 4.4</a></sup></p>
      </div>
      <div class="right toppad col-sm-8">
        <div class="thegamma" id="grossDomesticProduct"></div>
      </div>
    </div>

    <div class="row">
      <div class="left col-sm-4">
        <h3><span>Greenest Government Ever</span></h3>
        <p>In 2010, the Prime Minister David Cameron commits his government to be "<i>the greenest government ever.</i>"<a href="https://www.theguardian.com/environment/2010/may/14/cameron-wants-greenest-government-ever"><sup> Source</sup></a></p>
        <p><i>Can you guess the spending trend on Environment Protection services over five years following his announcement?</i></p>
        <p><sup>Download: <a href="https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/539470/PESA_2016_Chapter_4_tables.xlsx">
          PESA 2016 Chapter 4 Table 4.2</a></sup></p>
      </div>
      <div class="right toppad col-sm-8">
        <div class="thegamma" id="greenGovernment"></div>
      </div>
    </div>

    <div class="row">
      <div class="left col-sm-4">
        <h3><span>£600m Extra For Science</span></h3>
        <p>In 2012, the Chancellor George Osborne pledges extra £600m over three years to the science sector, believing that science and technology are key to economic growth.<a href="https://www.theguardian.com/science/2012/dec/05/george-osborne-science-stimulate-growth"><sup> Source</sup></a></p>
        <p><i>Can you guess the trend on capital investment on the Science and Technology sector in the years following his pledge?</i></p>
        <p><sup>Download: <a href="https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/539471/PESA_2016_Chapter_5_tables.xlsx">
          PESA 2016 Chapter 5 Table 5.4</a></sup></p>
      </div>
      <div class="right toppad col-sm-8">
        <div class="thegamma" id="scienceAndTech"></div>
      </div>
    </div>

</article>

<!-- Source code for embedded The Gamma visualizations -->
<script type="text/thegamma" id="listing-code">
let data =
 shared.'by date'.'May 2017'.'COFOG Structure'
  .'filter data'.'Service is'.[service:Education].then
  .'drop columns'.'drop Service'.then
  .'get the data'

table.create(data).set(emptyText="No records match the selected criteria")
</script>

<script type="text/thegamma" id="grossDomesticProduct-code">
let data =
  expenditure
    .byYear.'2015'
    .inTermsOf.GDP
    .sortValues(reverse=true).skip(1).take(6).shuffle()

youguess.bars(data)
</script>

<script type="text/thegamma" id="greenGovernment-code">
let environmentProtection =
  expenditure.byService.'Environment protection'.inTermsOf.Adjusted

youguess.line(environmentProtection)
  .setColors("blue", unknown="green")
  .setClip(2010, known=2010)
  .setAxisX(label="Years")
  .setAxisY(label="Real Terms (£ billion)")
  .setLabels(top="Funds for Environment Protection",known="",guess="")
</script>

<script type="text/thegamma" id="scienceAndTech-code">
let scienceCapital =
  expenditure.byService.'Science and technology'.byAccount.Capital
youguess.line(scienceCapital)
  .setColors("blue", unknown="yellow")
  .setClip(2012)
  .setRange(2500, 4000)
  .setAxisX(label="Years")
  .setAxisY(label="Capital Investment (£ million)")
  .setLabels(top="Funds for Science",known="",guess="")
</script>

<script type="text/thegamma" id="education-code">
let primarysecondary =
  expenditure.byYear.'2015'.byService.Education.sortValues(reverse=true).take(2)
let tertiary =
  expenditure.byYear.'2015'.byService.Education.sortValues(reverse=true).skip(3).take(1)
let data = primarysecondary.append(tertiary).sortValues(reverse=false)
compost.charts.column(data)
  .setAxisX(label="Education Sub-services")
  .setAxisY(label="£ million")
  .setTitle("Education (2015)")
</script>

<script type="text/thegamma" id="transport-code">
let total =
  expenditure.byService.'Economic affairs'.byAccount.Capital.setProperties(seriesName="Total")
let enterprise =
  expenditure.byService.'Enterprise and economic development'.byAccount.Capital.setProperties(seriesName="Ent. & Econ. Dev")
let science =
  expenditure.byService.'Science and technology'.byAccount.Capital.setProperties(seriesName="Sci & Tech")
let agriculture =
  expenditure.byService.'Agriculture, fisheries and forestry'.byAccount.Capital.setProperties(seriesName="Agriculture")
let transport =
  expenditure.byService.Transport.byAccount.Capital.setProperties(seriesName="Transport")

compost.charts.lines([total,transport,science,enterprise,agriculture])
    .setAxisX(2011,2015,label="Year")
    .setAxisY(label="£ million")
    .setLegend("right")
    .setTitle("Capital Investment - Economic Affairs")
</script>

<script type="text/thegamma" id="socialProtection-code">
let top10 =
  expenditure
    .byYear.'2015'
    .byService.'Social protection'
    .sortValues(reverse=true).take(10)

let oldAge = top10.take(1)
let sicknessAndBenefit = top10.skip(2).take(1)
let socialExclusion = top10.skip(4).take(1)
let housing = top10.skip(6).take(2)
let data = oldAge.append(sicknessAndBenefit).append(socialExclusion).append(housing)

compost.charts.bar(data)
    .setAxisX(0,125000,label="£ million")
    .setAxisY(label="Social Protection Subservices")
    .setTitle("Social Protection (2015)")
</script>

<!-- Define visualizations that should be loaded by embed.js later -->
<script type="text/javascript">
var thegamma =
  [ {id:"grossDomesticProduct"}, {id:"greenGovernment"},
  {id:"scienceAndTech"},{id:"education"},{id:"transport"},
  {id:"socialProtection"},
  {id:"listing",editors:"listing-options"} ];
    // The 'editors' value specifies prefix that is used for generating <select> elements
    // for placeholders in the code. In the case here, there are placeholders 'uni' and 'role'
    // and we have two <select> elements with ids 'listing-options-uni' and 'listing-options-role
</script>


<script type="text/javascript" src="https://thegamma.net/lib/thegamma-0.1/babel.min.js"></script>
<script type="text/javascript" src="https://thegamma.net/lib/thegamma-0.1/core-js.min.js"></script>
<script type="text/javascript" src="https://thegamma.net/lib/thegamma-0.1/require.js"></script>
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script type="text/javascript" src="/lib/embed.js"></script>

</body>
</html>
